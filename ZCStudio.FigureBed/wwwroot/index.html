<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>图床</title>
    <style type="text/css">
        #div1 {
            margin: 15px;
            width: 250px;
            height: 250px;
            border: 5px dashed gray;
            border-radius: 8px;
            background: lightyellow;
            background-size: 100%;
            background-repeat: no-repeat;
            text-align: center;
        }
    </style>

</head>

<body>
    <h1>图床</h1>
    <div id="div1"></div>
    <button type="button">上传</button>
    <script>
        window.onload = function () {
            dropBox = document.getElementById("div1");
            dropBox.ondragenter = allowDrop;
            dropBox.ondragover = allowDrop;
            dropBox.ondrop = drop;
        }

        function allowDrop(e) {
            e.stopPropagation();
            e.preventDefault();
        }

        function drop(e) {
            e.stopPropagation();
            e.preventDefault();
            var data = e.dataTransfer;
            var files = data.files;
            processFiles(files);
        }

        function processFiles(files) {
            for (let i = 0; i < files.length; i++) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    console.log(e.target.result);
                    // dropBox.style.backgroundImage = "url('" + e.target.result + "')";
                };
                reader.readAsDataURL(files[i]);
            }
        }
    </script>
</body>

</html>